{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex flex-col flex-1 items-center\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"text-white p-4 bg-weather-secondary w-full text-center\"\n};\nconst _hoisted_3 = {\n  class: \"flex flex-col items-center text-white py-12\"\n};\nconst _hoisted_4 = {\n  class: \"text-4xl mb-2\"\n};\nconst _hoisted_5 = {\n  class: \"text-sm mb-12\"\n};\nconst _hoisted_6 = {\n  class: \"text-8xl mb-8\"\n};\nconst _hoisted_7 = {\n  class: \"capitalize\"\n};\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = {\n  class: \"max-w-screen-md w-full py-12\"\n};\nconst _hoisted_10 = {\n  class: \"mx-8 text-white\"\n};\nconst _hoisted_11 = {\n  class: \"flex gap-12 overflow-x-scroll\"\n};\nconst _hoisted_12 = {\n  class: \"whitespace-nowrap text-md\"\n};\nconst _hoisted_13 = [\"src\"];\nconst _hoisted_14 = {\n  class: \"max-w-screen-md w-full py-12\"\n};\nconst _hoisted_15 = {\n  class: \"mx-8 text-white\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" banner \"), $setup.route.query.preview ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \" You are currently previewing this city, click the \\\"+\\\" icon to start tracking this city. \")) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Weather Overview \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h1\", _hoisted_4, _toDisplayString($setup.route.params.city), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_5, _toDisplayString(new Date($setup.weatherData.currentTime).toLocaleDateString(\"en-us\", {\n    weekday: \"short\",\n    day: \"2-digit\",\n    month: \"long\"\n  })) + \" \" + _toDisplayString(new Date($setup.weatherData.currentTime).toLocaleTimeString(\"en-us\", {\n    timeStyle: \"short\"\n  })), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_6, _toDisplayString(Math.round($setup.weatherData.current.temp)) + \"° \", 1 /* TEXT */), _createElementVNode(\"p\", null, \" Feels like \" + _toDisplayString(Math.round($setup.weatherData.current.feels_like)) + \" ° \", 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_7, _toDisplayString($setup.weatherData.current.weather[0].description) + \" ° \", 1 /* TEXT */), _createElementVNode(\"img\", {\n    class: \"w-[150px] h-auto\",\n    src: `http://openweathermap.org/img/wn/${$setup.weatherData.current.weather[0].icon}@2x.png`,\n    alt: \"\"\n  }, null, 8 /* PROPS */, _hoisted_8)]), _cache[2] || (_cache[2] = _createElementVNode(\"hr\", {\n    class: \"border-white border-opacity-10 border w-full\"\n  }, null, -1 /* HOISTED */)), _createCommentVNode(\" Hourly Weather \"), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_cache[0] || (_cache[0] = _createElementVNode(\"h2\", {\n    class: \"mb-4\"\n  }, \"Hourly Weather\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_11, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.weatherData.hourly, hourData => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: hourData.dt,\n      class: \"flex flex-col gap-4 items-center\"\n    }, [_createElementVNode(\"p\", _hoisted_12, _toDisplayString(new Date(hourData.currentTime).toLocaleTimeString(\"en-us\", {\n      hour: \"numeric\"\n    })), 1 /* TEXT */), _createElementVNode(\"img\", {\n      class: \"w-auto h-[50px] object-cover\",\n      src: `http://openweathermap.org/img/wn/${hourData.weather[0].icon}@2x.png`,\n      alt: \"\"\n    }, null, 8 /* PROPS */, _hoisted_13)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _cache[3] || (_cache[3] = _createElementVNode(\"hr\", {\n    class: \"border-white border-opacity-10 border w-full\"\n  }, null, -1 /* HOISTED */)), _createCommentVNode(\" Weekly Weather \"), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_cache[1] || (_cache[1] = _createElementVNode(\"h2\", {\n    class: \"mb-4\"\n  }, \"Day Forecast\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.weatherData.daily, day => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"flex items-center\",\n      key: day.dt\n    });\n  }), 128 /* KEYED_FRAGMENT */))])])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createCommentVNode","$setup","route","query","preview","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_toDisplayString","params","city","_hoisted_5","Date","weatherData","currentTime","toLocaleDateString","toLocaleTimeString","_hoisted_6","Math","round","current","temp","feels_like","_hoisted_7","weather","description","src","icon","alt","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_Fragment","_renderList","hourly","hourData","dt","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","daily","day"],"sources":["C:\\Users\\Nitro\\Desktop\\MEVN-STACK\\Vue\\weatherapp\\src\\components\\AsyncCityView.vue"],"sourcesContent":["<template>\r\n  <div class=\"flex flex-col flex-1 items-center\">\r\n    <!-- banner -->\r\n    <div\r\n      v-if=\"route.query.preview\"\r\n      class=\"text-white p-4 bg-weather-secondary w-full text-center\"\r\n    >\r\n      You are currently previewing this city, click the \"+\" icon to start\r\n      tracking this city.\r\n    </div>\r\n    <!-- Weather Overview -->\r\n    <div class=\"flex flex-col items-center text-white py-12\">\r\n      <h1 class=\"text-4xl mb-2\">{{ route.params.city }}</h1>\r\n      <p class=\"text-sm mb-12\">\r\n        {{\r\n          new Date(weatherData.currentTime).toLocaleDateString(\"en-us\", {\r\n            weekday: \"short\",\r\n            day: \"2-digit\",\r\n            month: \"long\",\r\n          })\r\n        }}\r\n        {{\r\n          new Date(weatherData.currentTime).toLocaleTimeString(\"en-us\", {\r\n            timeStyle: \"short\",\r\n          })\r\n        }}\r\n      </p>\r\n      <p class=\"text-8xl mb-8\">\r\n        {{ Math.round(weatherData.current.temp) }}&deg;\r\n      </p>\r\n      <p>\r\n        Feels like\r\n        {{ Math.round(weatherData.current.feels_like) }} &deg;\r\n      </p>\r\n      <p class=\"capitalize\">\r\n        {{ weatherData.current.weather[0].description }} &deg;\r\n      </p>\r\n      <img\r\n        class=\"w-[150px] h-auto\"\r\n        :src=\"`http://openweathermap.org/img/wn/${weatherData.current.weather[0].icon}@2x.png`\"\r\n        alt=\"\"\r\n      />\r\n    </div>\r\n\r\n    <hr class=\"border-white border-opacity-10 border w-full\" />\r\n\r\n    <!-- Hourly Weather -->\r\n    <div class=\"max-w-screen-md w-full py-12\">\r\n      <div class=\"mx-8 text-white\">\r\n        <h2 class=\"mb-4\">Hourly Weather</h2>\r\n        <div class=\"flex gap-12 overflow-x-scroll\">\r\n          <div\r\n            v-for=\"hourData in weatherData.hourly\"\r\n            :key=\"hourData.dt\"\r\n            class=\"flex flex-col gap-4 items-center\"\r\n          >\r\n            <p class=\"whitespace-nowrap text-md\">\r\n              {{\r\n                new Date(hourData.currentTime).toLocaleTimeString(\"en-us\", {\r\n                  hour: \"numeric\",\r\n                })\r\n              }}\r\n            </p>\r\n            <img\r\n              class=\"w-auto h-[50px] object-cover\"\r\n              :src=\"`http://openweathermap.org/img/wn/${hourData.weather[0].icon}@2x.png`\"\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <hr class=\"border-white border-opacity-10 border w-full\" />\r\n\r\n    <!-- Weekly Weather -->\r\n    <div class=\"max-w-screen-md w-full py-12\">\r\n      <div class=\"mx-8 text-white\">\r\n        <h2 class=\"mb-4\">Day Forecast</h2>\r\n        <div class=\"flex items-center\" v-for=\"day in weatherData.daily\" :key=\"day.dt\">\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport axios from \"axios\";\r\nimport { useRoute } from \"vue-router\";\r\n\r\nconst route = useRoute();\r\nconst getWeatherData = async () => {\r\n  try {\r\n    const weatherData = await axios.get(\r\n      `https://api.openweathermap.org/data/3.0/onecall?lat=${route.query.lat}&lon=${route.query.lng}&exclude={part}&appid=ab9ffba82ec7ed4b627b345c57428271`\r\n    );\r\n    // call current data & time\r\n    const localOffset = new Date().getTimezoneOffset() * 60000;\r\n    const utc = weatherData.data.current.dt * 1000 + localOffset;\r\n    weatherData.data.currentTime =\r\n      utc + 1000 * weatherData.data.timezone_offset;\r\n\r\n    // call hourly weather offset\r\n    weatherData.data.hourly.forEach((hour) => {\r\n      const utc = hour.dy * 1000 + localOffset;\r\n      hour.currentTime = utc + 100 * weatherData.data.timezone_offset;\r\n    });\r\n    return weatherData.data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\nconst weatherData = await getWeatherData();\r\nconsole.log(weatherData);\r\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}