{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport { withAsyncContext as _withAsyncContext } from 'vue';\nimport axios from \"axios\";\nimport { useRoute } from \"vue-router\";\nexport default {\n  __name: 'AsyncCityView',\n  async setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    let __temp, __restore;\n    const route = useRoute();\n    const getWeatherData = async () => {\n      try {\n        const weatherData = await axios.get(`https://api.openweathermap.org/data/3.0/onecall?lat=${route.query.lat}&lon=${route.query.lng}&exclude={part}&appid=ab9ffba82ec7ed4b627b345c57428271`);\n        // call current data & time\n        const localOffset = new Date().getTimezoneOffset() * 60000;\n        const utc = weatherData.data.current.dt * 1000 + localOffset;\n        weatherData.data.currentTime = utc + 1000 * weatherData.data.timezone_offset;\n\n        // call hourly weather offset\n        weatherData.data.hourly.forEach(hour => {\n          const utc = hour.dy * 1000 + localOffset;\n          hour.currentTime = utc + 100 * weatherData.data.timezone_offset;\n        });\n        return weatherData;\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    const weatherData = ([__temp, __restore] = _withAsyncContext(() => getWeatherData()), __temp = await __temp, __restore(), __temp);\n    console.log(weatherData);\n    const __returned__ = {\n      route,\n      getWeatherData,\n      weatherData,\n      get axios() {\n        return axios;\n      },\n      get useRoute() {\n        return useRoute;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["axios","useRoute","route","getWeatherData","weatherData","get","query","lat","lng","localOffset","Date","getTimezoneOffset","utc","data","current","dt","currentTime","timezone_offset","hourly","forEach","hour","dy","err","console","log","__temp","__restore","_withAsyncContext"],"sources":["C:/Users/Nitro/Desktop/MEVN-STACK/Vue/weatherapp/src/components/AsyncCityView.vue"],"sourcesContent":["<template>\r\n  <div\r\n    v-if=\"route.query.preview\"\r\n  >\r\n    You are currently pre\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport axios from \"axios\";\r\nimport { useRoute } from \"vue-router\";\r\n\r\nconst route = useRoute();\r\nconst getWeatherData = async () => {\r\n  try {\r\n    const weatherData = await axios.get(\r\n      `https://api.openweathermap.org/data/3.0/onecall?lat=${route.query.lat}&lon=${route.query.lng}&exclude={part}&appid=ab9ffba82ec7ed4b627b345c57428271`\r\n    );\r\n    // call current data & time\r\n    const localOffset = new Date().getTimezoneOffset() * 60000;\r\n    const utc = weatherData.data.current.dt * 1000 + localOffset;\r\n    weatherData.data.currentTime =\r\n      utc + 1000 * weatherData.data.timezone_offset;\r\n\r\n    // call hourly weather offset\r\n    weatherData.data.hourly.forEach((hour) => {\r\n      const utc = hour.dy * 1000 + localOffset;\r\n      hour.currentTime = utc + 100 * weatherData.data.timezone_offset;\r\n    });\r\n    return weatherData;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\nconst weatherData = await getWeatherData();\r\nconsole.log(weatherData);\r\n</script>"],"mappings":";;;AASA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,YAAY;;;;;;;;IAErC,MAAMC,KAAK,GAAGD,QAAQ,CAAC,CAAC;IACxB,MAAME,cAAc,GAAG,MAAAA,CAAA,KAAY;MACjC,IAAI;QACF,MAAMC,WAAW,GAAG,MAAMJ,KAAK,CAACK,GAAG,CACjC,uDAAuDH,KAAK,CAACI,KAAK,CAACC,GAAG,QAAQL,KAAK,CAACI,KAAK,CAACE,GAAG,wDAC/F,CAAC;QACD;QACA,MAAMC,WAAW,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC,GAAG,KAAK;QAC1D,MAAMC,GAAG,GAAGR,WAAW,CAACS,IAAI,CAACC,OAAO,CAACC,EAAE,GAAG,IAAI,GAAGN,WAAW;QAC5DL,WAAW,CAACS,IAAI,CAACG,WAAW,GAC1BJ,GAAG,GAAG,IAAI,GAAGR,WAAW,CAACS,IAAI,CAACI,eAAe;;QAE/C;QACAb,WAAW,CAACS,IAAI,CAACK,MAAM,CAACC,OAAO,CAAEC,IAAI,IAAK;UACxC,MAAMR,GAAG,GAAGQ,IAAI,CAACC,EAAE,GAAG,IAAI,GAAGZ,WAAW;UACxCW,IAAI,CAACJ,WAAW,GAAGJ,GAAG,GAAG,GAAG,GAAGR,WAAW,CAACS,IAAI,CAACI,eAAe;QACjE,CAAC,CAAC;QACF,OAAOb,WAAW;MACpB,CAAC,CAAC,OAAOkB,GAAG,EAAE;QACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAClB;IACF,CAAC;IACD,MAAMlB,WAAW,IAAG,CAAAqB,MAAA,EAAAC,SAAA,IAAAC,iBAAA,OAAMxB,cAAc,CAAC,I,2CAAC;IAC1CoB,OAAO,CAACC,GAAG,CAACpB,WAAW,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}