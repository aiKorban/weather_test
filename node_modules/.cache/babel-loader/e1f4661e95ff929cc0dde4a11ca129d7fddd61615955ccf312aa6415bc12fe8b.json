{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex flex-col flex-1 items-center\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"text-white p-4 bg-weather-secondary w-full text-center\"\n};\nconst _hoisted_3 = {\n  class: \"flex flex-col items-center text-white py-12\"\n};\nconst _hoisted_4 = {\n  class: \"text-4xl mb-2\"\n};\nconst _hoisted_5 = {\n  class: \"text-sm mb-12\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" banner \"), $setup.route.query.preview ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, \" You are currently previewing this city, click the \\\"+\\\" icon to start tracking this city. \")) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Weather Overview \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h1\", _hoisted_4, _toDisplayString($setup.route.params.city), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_5, _toDisplayString(new Date($setup.weatherData.currentTime).toLocalDateString(\"en-us\", {\n    weekday: \"short\",\n    day: \"2-digit\",\n    month: \"long\"\n  })) + \" \" + _toDisplayString(new Date($setup.weatherData.currentTime).toLocalDateString(\"en-us\", {\n    timeStyle: \"short\"\n  })), 1 /* TEXT */)])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createCommentVNode","$setup","route","query","preview","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_toDisplayString","params","city","_hoisted_5","Date","weatherData","currentTime","toLocalDateString"],"sources":["C:\\Users\\Nitro\\Desktop\\MEVN-STACK\\Vue\\weatherapp\\src\\components\\AsyncCityView.vue"],"sourcesContent":["<template>\r\n    <div class=\"flex flex-col flex-1 items-center\">\r\n<!-- banner -->\r\n  <div\r\n    v-if=\"route.query.preview\"\r\n    class=\"text-white p-4 bg-weather-secondary w-full text-center\"\r\n  >\r\n    You are currently previewing this city, click the \"+\" icon to start tracking this city.\r\n  </div>\r\n<!-- Weather Overview -->\r\n<div class=\"flex flex-col items-center text-white py-12\">\r\n    <h1 class=\"text-4xl mb-2\">{{ route.params.city }}</h1>\r\n    <p class=\"text-sm mb-12\">\r\n        {{ \r\n            new Date(weatherData.currentTime).toLocalDateString(\r\n                \"en-us\",\r\n                {\r\n                    weekday: \"short\",\r\n                    day: \"2-digit\",\r\n                    month: \"long\",\r\n                }\r\n            )\r\n         }}\r\n         {{ \r\n            new Date(weatherData.currentTime).toLocalDateString(\r\n                \"en-us\",\r\n                {\r\n                    timeStyle: \"short\",\r\n                }\r\n            )\r\n          }}\r\n    </p>\r\n</div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport axios from \"axios\";\r\nimport { useRoute } from \"vue-router\";\r\n\r\nconst route = useRoute();\r\nconst getWeatherData = async () => {\r\n  try {\r\n    const weatherData = await axios.get(\r\n      `https://api.openweathermap.org/data/3.0/onecall?lat=${route.query.lat}&lon=${route.query.lng}&exclude={part}&appid=ab9ffba82ec7ed4b627b345c57428271`\r\n    );\r\n    // call current data & time\r\n    const localOffset = new Date().getTimezoneOffset() * 60000;\r\n    const utc = weatherData.data.current.dt * 1000 + localOffset;\r\n    weatherData.data.currentTime =\r\n      utc + 1000 * weatherData.data.timezone_offset;\r\n\r\n    // call hourly weather offset\r\n    weatherData.data.hourly.forEach((hour) => {\r\n      const utc = hour.dy * 1000 + localOffset;\r\n      hour.currentTime = utc + 100 * weatherData.data.timezone_offset;\r\n    });\r\n    return weatherData;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\nconst weatherData = await getWeatherData();\r\nconsole.log(weatherData);\r\n</script>"],"mappings":";;EACSA,KAAK,EAAC;AAAmC;;EADlDC,GAAA;EAKID,KAAK,EAAC;;;EAKLA,KAAK,EAAC;AAA6C;;EAChDA,KAAK,EAAC;AAAe;;EACtBA,KAAK,EAAC;AAAe;;uBAXxBE,mBAAA,CAgCI,OAhCJC,UAgCI,GA/BRC,mBAAA,YAAe,EAELC,MAAA,CAAAC,KAAK,CAACC,KAAK,CAACC,OAAO,I,cAD3BN,mBAAA,CAKM,OALNO,UAKM,EAFL,6FAED,KARFL,mBAAA,gBASAA,mBAAA,sBAAyB,EACzBM,mBAAA,CAsBM,OAtBNC,UAsBM,GArBFD,mBAAA,CAAsD,MAAtDE,UAAsD,EAAAC,gBAAA,CAAzBR,MAAA,CAAAC,KAAK,CAACQ,MAAM,CAACC,IAAI,kBAC9CL,mBAAA,CAmBI,KAnBJM,UAmBI,EAAAH,gBAAA,KAjBQI,IAAI,CAACZ,MAAA,CAAAa,WAAW,CAACC,WAAW,EAAEC,iBAAiB,C;;;;QAQpD,GACF,GAAAP,gBAAA,KACOI,IAAI,CAACZ,MAAA,CAAAa,WAAW,CAACC,WAAW,EAAEC,iBAAiB,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}